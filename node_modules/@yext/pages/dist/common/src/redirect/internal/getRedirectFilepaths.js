import path from "node:path";
import { convertToPosixPath } from "../../template/paths.js";
import { globSync } from "glob";
const getRedirectFilePaths = (paths) => {
  const redirectFilepaths = [];
  const addedFilenames = /* @__PURE__ */ new Set();
  paths.forEach((p) => {
    const filepaths = globSync(
      convertToPosixPath(`${p.getAbsolutePath()}/*.{tsx,jsx,js,ts}`)
    );
    filepaths.forEach((f) => {
      const fileName = path.basename(f);
      if (!addedFilenames.has(fileName)) {
        addedFilenames.add(fileName);
        redirectFilepaths.push(f);
      }
    });
  });
  return redirectFilepaths;
};
const getRedirectFilePathsFromProjectStructure = (projectStructure) => {
  return getRedirectFilePaths(projectStructure.getRedirectPaths());
};
export {
  getRedirectFilePaths,
  getRedirectFilePathsFromProjectStructure
};
