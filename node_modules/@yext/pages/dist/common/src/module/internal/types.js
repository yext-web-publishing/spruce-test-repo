import { parse } from "../../template/internal/types.js";
import { validateModuleInternal } from "./validateModuleInternal.js";
const convertModuleDefinitionToModuleInternal = (moduleFilepath, module) => {
  const modulePath = parse(moduleFilepath, false);
  const config = convertModuleConfigToModuleConfigInternal(
    modulePath.name,
    module.config
  );
  const moduleInternal = {
    ...module,
    config,
    path: moduleFilepath,
    filename: modulePath.base,
    moduleName: config.name
  };
  validateModuleInternal(moduleInternal);
  return moduleInternal;
};
const convertModuleConfigToModuleConfigInternal = (moduleName, moduleConfig) => {
  return {
    name: moduleConfig?.name ?? moduleName
  };
};
export {
  convertModuleConfigToModuleConfigInternal,
  convertModuleDefinitionToModuleInternal
};
