import { convertTemplateConfigToStreamConfig } from "./stream.js";
const convertTemplateConfigInternalToFeaturesConfig = (config) => {
  const featureConfig = convertTemplateConfigToFeatureConfig(config);
  const streamConfig = convertTemplateConfigToStreamConfig(config);
  return {
    features: [featureConfig],
    ...streamConfig ? { streams: [streamConfig] } : ""
  };
};
const convertTemplateConfigToFeatureConfig = (config) => {
  const streamConfig = config.stream || null;
  const featureConfigBase = {
    name: config.name,
    streamId: streamConfig?.$id ?? config.streamId,
    templateType: "JS",
    alternateLanguageFields: config.alternateLanguageFields
  };
  let featureConfig;
  if (config.templateType === "static") {
    featureConfig = {
      ...featureConfigBase,
      staticPage: {
        locales: config.locales
      }
    };
  } else {
    featureConfig = {
      ...featureConfigBase,
      entityPageSet: {
        pageUrlField: config.pageUrlField
      }
    };
  }
  return featureConfig;
};
export {
  convertTemplateConfigInternalToFeaturesConfig,
  convertTemplateConfigToFeatureConfig
};
