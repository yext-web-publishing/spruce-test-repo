import * as React from "react";
function dynamic(importComponent, options) {
  const resolvedOptions = {
    componentName: "default",
    loading: () => /* @__PURE__ */ React.createElement(React.Fragment, null),
    ...options
  };
  class AsyncComponent extends React.Component {
    constructor(props) {
      super(props);
      this.state = {
        component: null
      };
    }
    async componentDidMount() {
      const component = await importComponent();
      if (!component[resolvedOptions.componentName]) {
        console.error(
          `Exported function "${resolvedOptions.componentName}" does not exist for dynamic import: ${importComponent}`
        );
      }
      this.setState({
        component: component[resolvedOptions.componentName]
      });
    }
    render() {
      const C = this.state.component;
      return C ? /* @__PURE__ */ React.createElement(C, { ...this.props }) : resolvedOptions.loading();
    }
  }
  return AsyncComponent;
}
export {
  dynamic
};
