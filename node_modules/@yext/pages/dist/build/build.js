import { build } from "vite";
import { scopedViteConfigPath } from "../util/viteConfig.js";
const handler = async ({ scope }) => {
  if (scope) {
    process.env.YEXT_PAGES_SCOPE = scope;
  }
  await build({
    configFile: scopedViteConfigPath(scope)
  });
};
const buildCommand = (program) => {
  program.command("build").description("Build site using Vite").option("--scope <string>", "The subfolder to scope from").action(handler);
};
export {
  buildCommand
};
