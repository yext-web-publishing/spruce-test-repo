var Gr=Object.defineProperty;var Br=(e,r,t)=>r in e?Gr(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var j=(e,r,t)=>(Br(e,typeof r!="symbol"?r+"":r,t),t);import{d as Nr,_ as te}from"../static/preload-helper-D58fUZad.js";import{g as de,c as H}from"../static/commonjsHelpers-DZNb-E5g.js";function F(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function Oe(e,r){for(var t="",n=0,a=-1,o=0,i,s=0;s<=e.length;++s){if(s<e.length)i=e.charCodeAt(s);else{if(i===47)break;i=47}if(i===47){if(!(a===s-1||o===1))if(a!==s-1&&o===2){if(t.length<2||n!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var c=t.lastIndexOf("/");if(c!==t.length-1){c===-1?(t="",n=0):(t=t.slice(0,c),n=t.length-1-t.lastIndexOf("/")),a=s,o=0;continue}}else if(t.length===2||t.length===1){t="",n=0,a=s,o=0;continue}}r&&(t.length>0?t+="/..":t="..",n=2)}else t.length>0?t+="/"+e.slice(a+1,s):t=e.slice(a+1,s),n=s-a-1;a=s,o=0}else i===46&&o!==-1?++o:o=-1}return t}function kr(e,r){var t=r.dir||r.root,n=r.base||(r.name||"")+(r.ext||"");return t?t===r.root?t+n:t+e+n:n}var B={resolve:function(){for(var r="",t=!1,n,a=arguments.length-1;a>=-1&&!t;a--){var o;a>=0?o=arguments[a]:(n===void 0&&(n=Nr.process.cwd()),o=n),F(o),o.length!==0&&(r=o+"/"+r,t=o.charCodeAt(0)===47)}return r=Oe(r,!t),t?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(r){if(F(r),r.length===0)return".";var t=r.charCodeAt(0)===47,n=r.charCodeAt(r.length-1)===47;return r=Oe(r,!t),r.length===0&&!t&&(r="."),r.length>0&&n&&(r+="/"),t?"/"+r:r},isAbsolute:function(r){return F(r),r.length>0&&r.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var r,t=0;t<arguments.length;++t){var n=arguments[t];F(n),n.length>0&&(r===void 0?r=n:r+="/"+n)}return r===void 0?".":B.normalize(r)},relative:function(r,t){if(F(r),F(t),r===t||(r=B.resolve(r),t=B.resolve(t),r===t))return"";for(var n=1;n<r.length&&r.charCodeAt(n)===47;++n);for(var a=r.length,o=a-n,i=1;i<t.length&&t.charCodeAt(i)===47;++i);for(var s=t.length,c=s-i,l=o<c?o:c,v=-1,d=0;d<=l;++d){if(d===l){if(c>l){if(t.charCodeAt(i+d)===47)return t.slice(i+d+1);if(d===0)return t.slice(i+d)}else o>l&&(r.charCodeAt(n+d)===47?v=d:d===0&&(v=0));break}var C=r.charCodeAt(n+d),L=t.charCodeAt(i+d);if(C!==L)break;C===47&&(v=d)}var P="";for(d=n+v+1;d<=a;++d)(d===a||r.charCodeAt(d)===47)&&(P.length===0?P+="..":P+="/..");return P.length>0?P+t.slice(i+v):(i+=v,t.charCodeAt(i)===47&&++i,t.slice(i))},_makeLong:function(r){return r},dirname:function(r){if(F(r),r.length===0)return".";for(var t=r.charCodeAt(0),n=t===47,a=-1,o=!0,i=r.length-1;i>=1;--i)if(t=r.charCodeAt(i),t===47){if(!o){a=i;break}}else o=!1;return a===-1?n?"/":".":n&&a===1?"//":r.slice(0,a)},basename:function(r,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');F(r);var n=0,a=-1,o=!0,i;if(t!==void 0&&t.length>0&&t.length<=r.length){if(t.length===r.length&&t===r)return"";var s=t.length-1,c=-1;for(i=r.length-1;i>=0;--i){var l=r.charCodeAt(i);if(l===47){if(!o){n=i+1;break}}else c===-1&&(o=!1,c=i+1),s>=0&&(l===t.charCodeAt(s)?--s===-1&&(a=i):(s=-1,a=c))}return n===a?a=c:a===-1&&(a=r.length),r.slice(n,a)}else{for(i=r.length-1;i>=0;--i)if(r.charCodeAt(i)===47){if(!o){n=i+1;break}}else a===-1&&(o=!1,a=i+1);return a===-1?"":r.slice(n,a)}},extname:function(r){F(r);for(var t=-1,n=0,a=-1,o=!0,i=0,s=r.length-1;s>=0;--s){var c=r.charCodeAt(s);if(c===47){if(!o){n=s+1;break}continue}a===-1&&(o=!1,a=s+1),c===46?t===-1?t=s:i!==1&&(i=1):t!==-1&&(i=-1)}return t===-1||a===-1||i===0||i===1&&t===a-1&&t===n+1?"":r.slice(t,a)},format:function(r){if(r===null||typeof r!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof r);return kr("/",r)},parse:function(r){F(r);var t={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return t;var n=r.charCodeAt(0),a=n===47,o;a?(t.root="/",o=1):o=0;for(var i=-1,s=0,c=-1,l=!0,v=r.length-1,d=0;v>=o;--v){if(n=r.charCodeAt(v),n===47){if(!l){s=v+1;break}continue}c===-1&&(l=!1,c=v+1),n===46?i===-1?i=v:d!==1&&(d=1):i!==-1&&(d=-1)}return i===-1||c===-1||d===0||d===1&&i===c-1&&i===s+1?c!==-1&&(s===0&&a?t.base=t.name=r.slice(1,c):t.base=t.name=r.slice(s,c)):(s===0&&a?(t.name=r.slice(1,i),t.base=r.slice(1,c)):(t.name=r.slice(s,i),t.base=r.slice(s,c)),t.ext=r.slice(i,c)),s>0?t.dir=r.slice(0,s-1):a&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};B.posix=B;var zr=B;const y=de(zr);function Vr(){this.__data__=[],this.size=0}var Kr=Vr;function qr(e,r){return e===r||e!==e&&r!==r}var ne=qr,Jr=ne;function Wr(e,r){for(var t=e.length;t--;)if(Jr(e[t][0],r))return t;return-1}var ae=Wr,Yr=ae,Xr=Array.prototype,Zr=Xr.splice;function Qr(e){var r=this.__data__,t=Yr(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():Zr.call(r,t,1),--this.size,!0}var et=Qr,rt=ae;function tt(e){var r=this.__data__,t=rt(r,e);return t<0?void 0:r[t][1]}var nt=tt,at=ae;function it(e){return at(this.__data__,e)>-1}var st=it,ot=ae;function ct(e,r){var t=this.__data__,n=ot(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var ft=ct,ut=Kr,lt=et,vt=nt,dt=st,gt=ft;function N(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}N.prototype.clear=ut;N.prototype.delete=lt;N.prototype.get=vt;N.prototype.has=dt;N.prototype.set=gt;var ie=N,ht=ie;function pt(){this.__data__=new ht,this.size=0}var bt=pt;function _t(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var yt=_t;function $t(e){return this.__data__.get(e)}var mt=$t;function wt(e){return this.__data__.has(e)}var Tt=wt,At=typeof H=="object"&&H&&H.Object===Object&&H,nr=At,jt=nr,Ct=typeof self=="object"&&self&&self.Object===Object&&self,Pt=jt||Ct||Function("return this")(),k=Pt,Ot=k,xt=Ot.Symbol,ar=xt,xe=ar,ir=Object.prototype,St=ir.hasOwnProperty,Rt=ir.toString,J=xe?xe.toStringTag:void 0;function Ft(e){var r=St.call(e,J),t=e[J];try{e[J]=void 0;var n=!0}catch{}var a=Rt.call(e);return n&&(r?e[J]=t:delete e[J]),a}var Et=Ft,It=Object.prototype,Lt=It.toString;function Dt(e){return Lt.call(e)}var Ut=Dt,Se=ar,Mt=Et,Ht=Ut,Gt="[object Null]",Bt="[object Undefined]",Re=Se?Se.toStringTag:void 0;function Nt(e){return e==null?e===void 0?Bt:Gt:Re&&Re in Object(e)?Mt(e):Ht(e)}var se=Nt;function kt(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var G=kt,zt=se,Vt=G,Kt="[object AsyncFunction]",qt="[object Function]",Jt="[object GeneratorFunction]",Wt="[object Proxy]";function Yt(e){if(!Vt(e))return!1;var r=zt(e);return r==qt||r==Jt||r==Kt||r==Wt}var ge=Yt,Xt=k,Zt=Xt["__core-js_shared__"],Qt=Zt,le=Qt,Fe=function(){var e=/[^.]+$/.exec(le&&le.keys&&le.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function en(e){return!!Fe&&Fe in e}var rn=en,tn=Function.prototype,nn=tn.toString;function an(e){if(e!=null){try{return nn.call(e)}catch{}try{return e+""}catch{}}return""}var sn=an,on=ge,cn=rn,fn=G,un=sn,ln=/[\\^$.*+?()[\]{}|]/g,vn=/^\[object .+?Constructor\]$/,dn=Function.prototype,gn=Object.prototype,hn=dn.toString,pn=gn.hasOwnProperty,bn=RegExp("^"+hn.call(pn).replace(ln,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _n(e){if(!fn(e)||cn(e))return!1;var r=on(e)?bn:vn;return r.test(un(e))}var yn=_n;function $n(e,r){return e==null?void 0:e[r]}var mn=$n,wn=yn,Tn=mn;function An(e,r){var t=Tn(e,r);return wn(t)?t:void 0}var he=An,jn=he,Cn=k,Pn=jn(Cn,"Map"),sr=Pn,On=he,xn=On(Object,"create"),oe=xn,Ee=oe;function Sn(){this.__data__=Ee?Ee(null):{},this.size=0}var Rn=Sn;function Fn(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var En=Fn,In=oe,Ln="__lodash_hash_undefined__",Dn=Object.prototype,Un=Dn.hasOwnProperty;function Mn(e){var r=this.__data__;if(In){var t=r[e];return t===Ln?void 0:t}return Un.call(r,e)?r[e]:void 0}var Hn=Mn,Gn=oe,Bn=Object.prototype,Nn=Bn.hasOwnProperty;function kn(e){var r=this.__data__;return Gn?r[e]!==void 0:Nn.call(r,e)}var zn=kn,Vn=oe,Kn="__lodash_hash_undefined__";function qn(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Vn&&r===void 0?Kn:r,this}var Jn=qn,Wn=Rn,Yn=En,Xn=Hn,Zn=zn,Qn=Jn;function z(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}z.prototype.clear=Wn;z.prototype.delete=Yn;z.prototype.get=Xn;z.prototype.has=Zn;z.prototype.set=Qn;var ea=z,Ie=ea,ra=ie,ta=sr;function na(){this.size=0,this.__data__={hash:new Ie,map:new(ta||ra),string:new Ie}}var aa=na;function ia(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var sa=ia,oa=sa;function ca(e,r){var t=e.__data__;return oa(r)?t[typeof r=="string"?"string":"hash"]:t.map}var ce=ca,fa=ce;function ua(e){var r=fa(this,e).delete(e);return this.size-=r?1:0,r}var la=ua,va=ce;function da(e){return va(this,e).get(e)}var ga=da,ha=ce;function pa(e){return ha(this,e).has(e)}var ba=pa,_a=ce;function ya(e,r){var t=_a(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var $a=ya,ma=aa,wa=la,Ta=ga,Aa=ba,ja=$a;function V(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}V.prototype.clear=ma;V.prototype.delete=wa;V.prototype.get=Ta;V.prototype.has=Aa;V.prototype.set=ja;var Ca=V,Pa=ie,Oa=sr,xa=Ca,Sa=200;function Ra(e,r){var t=this.__data__;if(t instanceof Pa){var n=t.__data__;if(!Oa||n.length<Sa-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new xa(n)}return t.set(e,r),this.size=t.size,this}var Fa=Ra,Ea=ie,Ia=bt,La=yt,Da=mt,Ua=Tt,Ma=Fa;function K(e){var r=this.__data__=new Ea(e);this.size=r.size}K.prototype.clear=Ia;K.prototype.delete=La;K.prototype.get=Da;K.prototype.has=Ua;K.prototype.set=Ma;var Ha=K,Ga=he,Ba=function(){try{var e=Ga(Object,"defineProperty");return e({},"",{}),e}catch{}}(),or=Ba,Le=or;function Na(e,r,t){r=="__proto__"&&Le?Le(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var pe=Na,ka=pe,za=ne;function Va(e,r,t){(t!==void 0&&!za(e[r],t)||t===void 0&&!(r in e))&&ka(e,r,t)}var cr=Va;function Ka(e){return function(r,t,n){for(var a=-1,o=Object(r),i=n(r),s=i.length;s--;){var c=i[e?s:++a];if(t(o[c],c,o)===!1)break}return r}}var qa=Ka,Ja=qa,Wa=Ja(),Ya=Wa,X={exports:{}};X.exports;(function(e,r){var t=k,n=r&&!r.nodeType&&r,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o?t.Buffer:void 0,s=i?i.allocUnsafe:void 0;function c(l,v){if(v)return l.slice();var d=l.length,C=s?s(d):new l.constructor(d);return l.copy(C),C}e.exports=c})(X,X.exports);var Xa=X.exports,Za=k,Qa=Za.Uint8Array,ei=Qa,De=ei;function ri(e){var r=new e.constructor(e.byteLength);return new De(r).set(new De(e)),r}var ti=ri,ni=ti;function ai(e,r){var t=r?ni(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var ii=ai;function si(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var oi=si,ci=G,Ue=Object.create,fi=function(){function e(){}return function(r){if(!ci(r))return{};if(Ue)return Ue(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),ui=fi;function li(e,r){return function(t){return e(r(t))}}var vi=li,di=vi,gi=di(Object.getPrototypeOf,Object),fr=gi,hi=Object.prototype;function pi(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||hi;return e===t}var ur=pi,bi=ui,_i=fr,yi=ur;function $i(e){return typeof e.constructor=="function"&&!yi(e)?bi(_i(e)):{}}var mi=$i;function wi(e){return e!=null&&typeof e=="object"}var W=wi,Ti=se,Ai=W,ji="[object Arguments]";function Ci(e){return Ai(e)&&Ti(e)==ji}var Pi=Ci,Me=Pi,Oi=W,lr=Object.prototype,xi=lr.hasOwnProperty,Si=lr.propertyIsEnumerable,Ri=Me(function(){return arguments}())?Me:function(e){return Oi(e)&&xi.call(e,"callee")&&!Si.call(e,"callee")},vr=Ri,Fi=Array.isArray,dr=Fi,Ei=9007199254740991;function Ii(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ei}var gr=Ii,Li=ge,Di=gr;function Ui(e){return e!=null&&Di(e.length)&&!Li(e)}var be=Ui,Mi=be,Hi=W;function Gi(e){return Hi(e)&&Mi(e)}var Bi=Gi,Z={exports:{}};function Ni(){return!1}var ki=Ni;Z.exports;(function(e,r){var t=k,n=ki,a=r&&!r.nodeType&&r,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?t.Buffer:void 0,c=s?s.isBuffer:void 0,l=c||n;e.exports=l})(Z,Z.exports);var hr=Z.exports,zi=se,Vi=fr,Ki=W,qi="[object Object]",Ji=Function.prototype,Wi=Object.prototype,pr=Ji.toString,Yi=Wi.hasOwnProperty,Xi=pr.call(Object);function Zi(e){if(!Ki(e)||zi(e)!=qi)return!1;var r=Vi(e);if(r===null)return!0;var t=Yi.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&pr.call(t)==Xi}var Qi=Zi,es=se,rs=gr,ts=W,ns="[object Arguments]",as="[object Array]",is="[object Boolean]",ss="[object Date]",os="[object Error]",cs="[object Function]",fs="[object Map]",us="[object Number]",ls="[object Object]",vs="[object RegExp]",ds="[object Set]",gs="[object String]",hs="[object WeakMap]",ps="[object ArrayBuffer]",bs="[object DataView]",_s="[object Float32Array]",ys="[object Float64Array]",$s="[object Int8Array]",ms="[object Int16Array]",ws="[object Int32Array]",Ts="[object Uint8Array]",As="[object Uint8ClampedArray]",js="[object Uint16Array]",Cs="[object Uint32Array]",p={};p[_s]=p[ys]=p[$s]=p[ms]=p[ws]=p[Ts]=p[As]=p[js]=p[Cs]=!0;p[ns]=p[as]=p[ps]=p[is]=p[bs]=p[ss]=p[os]=p[cs]=p[fs]=p[us]=p[ls]=p[vs]=p[ds]=p[gs]=p[hs]=!1;function Ps(e){return ts(e)&&rs(e.length)&&!!p[es(e)]}var Os=Ps;function xs(e){return function(r){return e(r)}}var Ss=xs,Q={exports:{}};Q.exports;(function(e,r){var t=nr,n=r&&!r.nodeType&&r,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&t.process,s=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(Q,Q.exports);var Rs=Q.exports,Fs=Os,Es=Ss,He=Rs,Ge=He&&He.isTypedArray,Is=Ge?Es(Ge):Fs,br=Is;function Ls(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var _r=Ls,Ds=pe,Us=ne,Ms=Object.prototype,Hs=Ms.hasOwnProperty;function Gs(e,r,t){var n=e[r];(!(Hs.call(e,r)&&Us(n,t))||t===void 0&&!(r in e))&&Ds(e,r,t)}var Bs=Gs,Ns=Bs,ks=pe;function zs(e,r,t,n){var a=!t;t||(t={});for(var o=-1,i=r.length;++o<i;){var s=r[o],c=n?n(t[s],e[s],s,t,e):void 0;c===void 0&&(c=e[s]),a?ks(t,s,c):Ns(t,s,c)}return t}var Vs=zs;function Ks(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var qs=Ks,Js=9007199254740991,Ws=/^(?:0|[1-9]\d*)$/;function Ys(e,r){var t=typeof e;return r=r??Js,!!r&&(t=="number"||t!="symbol"&&Ws.test(e))&&e>-1&&e%1==0&&e<r}var yr=Ys,Xs=qs,Zs=vr,Qs=dr,eo=hr,ro=yr,to=br,no=Object.prototype,ao=no.hasOwnProperty;function io(e,r){var t=Qs(e),n=!t&&Zs(e),a=!t&&!n&&eo(e),o=!t&&!n&&!a&&to(e),i=t||n||a||o,s=i?Xs(e.length,String):[],c=s.length;for(var l in e)(r||ao.call(e,l))&&!(i&&(l=="length"||a&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||ro(l,c)))&&s.push(l);return s}var so=io;function oo(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var co=oo,fo=G,uo=ur,lo=co,vo=Object.prototype,go=vo.hasOwnProperty;function ho(e){if(!fo(e))return lo(e);var r=uo(e),t=[];for(var n in e)n=="constructor"&&(r||!go.call(e,n))||t.push(n);return t}var po=ho,bo=so,_o=po,yo=be;function $o(e){return yo(e)?bo(e,!0):_o(e)}var $r=$o,mo=Vs,wo=$r;function To(e){return mo(e,wo(e))}var Ao=To,Be=cr,jo=Xa,Co=ii,Po=oi,Oo=mi,Ne=vr,ke=dr,xo=Bi,So=hr,Ro=ge,Fo=G,Eo=Qi,Io=br,ze=_r,Lo=Ao;function Do(e,r,t,n,a,o,i){var s=ze(e,t),c=ze(r,t),l=i.get(c);if(l){Be(e,t,l);return}var v=o?o(s,c,t+"",e,r,i):void 0,d=v===void 0;if(d){var C=ke(c),L=!C&&So(c),P=!C&&!L&&Io(c);v=c,C||L||P?ke(s)?v=s:xo(s)?v=Po(s):L?(d=!1,v=jo(c,!0)):P?(d=!1,v=Co(c,!0)):v=[]:Eo(c)||Ne(c)?(v=s,Ne(s)?v=Lo(s):(!Fo(s)||Ro(s))&&(v=Oo(c))):d=!1}d&&(i.set(c,v),a(v,c,n,o,i),i.delete(c)),Be(e,t,v)}var Uo=Do,Mo=Ha,Ho=cr,Go=Ya,Bo=Uo,No=G,ko=$r,zo=_r;function mr(e,r,t,n,a){e!==r&&Go(r,function(o,i){if(a||(a=new Mo),No(o))Bo(e,r,i,t,mr,n,a);else{var s=n?n(zo(e,i),o,i+"",e,r,a):void 0;s===void 0&&(s=o),Ho(e,i,s)}},ko)}var Vo=mr;function Ko(e){return e}var wr=Ko;function qo(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var Jo=qo,Wo=Jo,Ve=Math.max;function Yo(e,r,t){return r=Ve(r===void 0?e.length-1:r,0),function(){for(var n=arguments,a=-1,o=Ve(n.length-r,0),i=Array(o);++a<o;)i[a]=n[r+a];a=-1;for(var s=Array(r+1);++a<r;)s[a]=n[a];return s[r]=t(i),Wo(e,this,s)}}var Xo=Yo;function Zo(e){return function(){return e}}var Qo=Zo,ec=Qo,Ke=or,rc=wr,tc=Ke?function(e,r){return Ke(e,"toString",{configurable:!0,enumerable:!1,value:ec(r),writable:!0})}:rc,nc=tc,ac=800,ic=16,sc=Date.now;function oc(e){var r=0,t=0;return function(){var n=sc(),a=ic-(n-t);if(t=n,a>0){if(++r>=ac)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var cc=oc,fc=nc,uc=cc,lc=uc(fc),vc=lc,dc=wr,gc=Xo,hc=vc;function pc(e,r){return hc(gc(e,r,dc),e+"")}var bc=pc,_c=ne,yc=be,$c=yr,mc=G;function wc(e,r,t){if(!mc(t))return!1;var n=typeof r;return(n=="number"?yc(t)&&$c(r,t.length):n=="string"&&r in t)?_c(t[r],e):!1}var Tc=wc,Ac=bc,jc=Tc;function Cc(e){return Ac(function(r,t){var n=-1,a=t.length,o=a>1?t[a-1]:void 0,i=a>2?t[2]:void 0;for(o=e.length>3&&typeof o=="function"?(a--,o):void 0,i&&jc(t[0],t[1],i)&&(o=a<3?void 0:o,a=1),r=Object(r);++n<a;){var s=t[n];s&&e(r,s,n,o)}return r})}var Pc=Cc,Oc=Vo,xc=Pc,Sc=xc(function(e,r,t){Oc(e,r,t)}),Rc=Sc;const qe=de(Rc);var Je=null;class I{constructor(r){j(this,"path");j(this,"getRelativePath",r=>y.join(".",y.relative(this.path,r)));j(this,"getAbsolutePath",()=>y.resolve(this.path));this.path=r}}var ee={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */ee.exports;(function(e,r){(function(t){var n=r&&!r.nodeType&&r,a=e&&!e.nodeType&&e,o=typeof H=="object"&&H;(o.global===o||o.window===o||o.self===o)&&(t=o);var i,s=2147483647,c=36,l=1,v=26,d=38,C=700,L=72,P=128,ye="-",Er=/^xn--/,Ir=/[^\x20-\x7E]/,Lr=/[\x2E\u3002\uFF0E\uFF61]/g,Dr={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},fe=c-l,S=Math.floor,q=String.fromCharCode,Y;function U(f){throw new RangeError(Dr[f])}function $e(f,u){for(var g=f.length,b=[];g--;)b[g]=u(f[g]);return b}function me(f,u){var g=f.split("@"),b="";g.length>1&&(b=g[0]+"@",f=g[1]),f=f.replace(Lr,".");var _=f.split("."),w=$e(_,u).join(".");return b+w}function we(f){for(var u=[],g=0,b=f.length,_,w;g<b;)_=f.charCodeAt(g++),_>=55296&&_<=56319&&g<b?(w=f.charCodeAt(g++),(w&64512)==56320?u.push(((_&1023)<<10)+(w&1023)+65536):(u.push(_),g--)):u.push(_);return u}function Te(f){return $e(f,function(u){var g="";return u>65535&&(u-=65536,g+=q(u>>>10&1023|55296),u=56320|u&1023),g+=q(u),g}).join("")}function Ur(f){return f-48<10?f-22:f-65<26?f-65:f-97<26?f-97:c}function Ae(f,u){return f+22+75*(f<26)-((u!=0)<<5)}function je(f,u,g){var b=0;for(f=g?S(f/C):f>>1,f+=S(f/u);f>fe*v>>1;b+=c)f=S(f/fe);return S(b+(fe+1)*f/(f+d))}function Ce(f){var u=[],g=f.length,b,_=0,w=P,$=L,T,O,R,E,m,A,x,D,M;for(T=f.lastIndexOf(ye),T<0&&(T=0),O=0;O<T;++O)f.charCodeAt(O)>=128&&U("not-basic"),u.push(f.charCodeAt(O));for(R=T>0?T+1:0;R<g;){for(E=_,m=1,A=c;R>=g&&U("invalid-input"),x=Ur(f.charCodeAt(R++)),(x>=c||x>S((s-_)/m))&&U("overflow"),_+=x*m,D=A<=$?l:A>=$+v?v:A-$,!(x<D);A+=c)M=c-D,m>S(s/M)&&U("overflow"),m*=M;b=u.length+1,$=je(_-E,b,E==0),S(_/b)>s-w&&U("overflow"),w+=S(_/b),_%=b,u.splice(_++,0,w)}return Te(u)}function Pe(f){var u,g,b,_,w,$,T,O,R,E,m,A=[],x,D,M,ue;for(f=we(f),x=f.length,u=P,g=0,w=L,$=0;$<x;++$)m=f[$],m<128&&A.push(q(m));for(b=_=A.length,_&&A.push(ye);b<x;){for(T=s,$=0;$<x;++$)m=f[$],m>=u&&m<T&&(T=m);for(D=b+1,T-u>S((s-g)/D)&&U("overflow"),g+=(T-u)*D,u=T,$=0;$<x;++$)if(m=f[$],m<u&&++g>s&&U("overflow"),m==u){for(O=g,R=c;E=R<=w?l:R>=w+v?v:R-w,!(O<E);R+=c)ue=O-E,M=c-E,A.push(q(Ae(E+ue%M,0))),O=S(ue/M);A.push(q(Ae(O,0))),w=je(g,D,b==_),g=0,++b}++g,++u}return A.join("")}function Mr(f){return me(f,function(u){return Er.test(u)?Ce(u.slice(4).toLowerCase()):u})}function Hr(f){return me(f,function(u){return Ir.test(u)?"xn--"+Pe(u):u})}if(i={version:"1.4.1",ucs2:{decode:we,encode:Te},decode:Ce,encode:Pe,toASCII:Hr,toUnicode:Mr},n&&a)if(e.exports==n)a.exports=i;else for(Y in i)i.hasOwnProperty(Y)&&(n[Y]=i[Y]);else t.punycode=i})(H)})(ee,ee.exports);ee.exports;function Fc(e,r){for(var t=0,n=e.length-1;n>=0;n--){var a=e[n];a==="."?e.splice(n,1):a===".."?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t--;t)e.unshift("..");return e}function Ec(){for(var e="",r=!1,t=arguments.length-1;t>=-1&&!r;t--){var n=t>=0?arguments[t]:"/";if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)continue;e=n+"/"+e,r=n.charAt(0)==="/"}return e=Fc(Ic(e.split("/"),function(a){return!!a}),!r).join("/"),(r?"/":"")+e||"."}function Ic(e,r){if(e.filter)return e.filter(r);for(var t=[],n=0;n<e.length;n++)r(e[n],n,e)&&t.push(e[n]);return t}var Tr=function(e){function r(){var n=this||self;return delete e.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return r();e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:r});var t=__magic__;return t}(Object),Lc=Tr.URL;Tr.URLSearchParams;var Dc=/%/g,Uc=/\\/g,Mc=/\n/g,Hc=/\r/g,Gc=/\t/g,Bc=47;function Nc(e){return e.includes("%")&&(e=e.replace(Dc,"%25")),e.includes("\\")&&(e=e.replace(Uc,"%5C")),e.includes(`
`)&&(e=e.replace(Mc,"%0A")),e.includes("\r")&&(e=e.replace(Hc,"%0D")),e.includes("	")&&(e=e.replace(Gc,"%09")),e}var Ar=function(r){var t=new Lc("file://"),n=Ec(r),a=r.charCodeAt(r.length-1);return a===Bc&&n[n.length-1]!=="/"&&(n+="/"),t.pathname=Nc(n),t};const jr=async e=>await te(()=>import(e),[]),kc=async(e,r)=>{var a;return r===""?e:((a=(await jr(Ar(r).toString())).default.build)==null?void 0:a.assetsDir)??e},zc=async(e,r)=>r===""?e:(await jr(Ar(r).toString())).default.publicDir||e,Cr="assets",Pr="public",We={rootFolders:{source:"src",dist:"dist",sitesConfig:"sites-config",functions:"functions"},subfolders:{templates:"templates",modules:"modules",redirects:"redirects",serverlessFunctions:"functions",assets:Cr,public:Pr,clientBundle:"client",serverBundle:"server",redirectBundle:"redirect",renderBundle:"render",renderer:"renderer",static:"static",plugin:"plugin"},sitesConfigFiles:{ci:"ci.json",features:"features.json",siteStream:"site-stream.json",serving:"serving.json",sitemap:"sitemap.json",redirects:"redirects.csv",auth:"auth.json"},distConfigFiles:{templates:"templates.json",artifacts:"artifacts.json",functionMetadata:"functionMetadata.json"},rootFiles:{config:"config.yaml"},envVarConfig:{envVarDir:"",envVarPrefix:"YEXT_PUBLIC"}},re=class re{constructor(r){j(this,"config");j(this,"getTemplatePaths",()=>{const r=y.join(this.config.rootFolders.source,this.config.subfolders.templates),t=y.join(r,this.config.scope??"");return this.config.scope&&Je.existsSync(t)?[new I(t),new I(r)]:[new I(r)]});j(this,"getRedirectPaths",()=>(y.join(this.config.rootFolders.source,this.config.subfolders.redirects),[]));j(this,"getSitesConfigPath",()=>new I(y.join(this.config.rootFolders.sitesConfig,this.config.scope??"")));j(this,"getScopedDistPath",()=>new I(y.join(this.config.rootFolders.dist,this.config.scope??"")));j(this,"getConfigYamlPath",()=>new I(y.join(this.config.scope??"",this.config.rootFiles.config)));j(this,"getModulePaths",r=>{const t=y.join(this.config.rootFolders.source,this.config.subfolders.modules,r??""),n=y.join(this.config.rootFolders.source,this.config.subfolders.modules,this.config.scope??"",r??"");return this.config.scope&&Je.existsSync(n)?[new I(n),new I(t)]:[new I(t)]});const t=qe(We,r);this.config=t}};j(re,"init",async r=>{const t=qe(We,r),n=await kc(Cr,y.resolve("vite.config.js"));t.subfolders.assets=n;const a=await zc(Pr,y.resolve("vite.config.js"));return t.subfolders.public=a,new re(t)});let ve=re;const Vc=e=>{const r=e.split("/");return r.pop(),r.map(()=>"../").reduce((t,n)=>t+n,"")},Ye=e=>e.split(y.sep).join(y.posix.sep);var _e={exports:{}},h=String,Or=function(){return{isColorSupported:!1,reset:h,bold:h,dim:h,italic:h,underline:h,inverse:h,hidden:h,strikethrough:h,black:h,red:h,green:h,yellow:h,blue:h,magenta:h,cyan:h,white:h,gray:h,bgBlack:h,bgRed:h,bgGreen:h,bgYellow:h,bgBlue:h,bgMagenta:h,bgCyan:h,bgWhite:h}};_e.exports=Or();_e.exports.createColors=Or;var Kc=_e.exports;const qc=de(Kc),Jc=e=>`<title>${e.title?e.title:"Yext Pages Site"}</title>
    <meta charset="${e.charset||"UTF-8"}">
    <meta name="viewport" content="${e.viewport||"width=device-width, initial-scale=1"}">
    ${e.tags?e.tags.map(Wc).join(`
`):""}
    ${e.other?e.other:""}`.split(`
`).filter(r=>r.trim()!="").join(`
`),Wc=e=>{switch(e.type){case"base":case"link":case"meta":return`<${e.type} ${Xe(e.attributes)}>`;case"style":case"script":case"noscript":case"template":return`<${e.type} ${Xe(e.attributes)}></${e.type}>`;default:return console.log(qc.yellow(`[WARNING]: Tag type ${e.type} is unsupported by the Tag interface. Please use "other" to render this tag.`)),""}},Xe=e=>Object.keys(e).map(r=>`${r}="${e[r]}"`).join(" "),Yc=(e,r)=>{var t,n;return e!=null&&e.lang?e.lang:(t=r==null?void 0:r.document)!=null&&t.locale?(n=r==null?void 0:r.document)==null?void 0:n.locale:"en"},Xc=(e,r,t)=>{const n=Ze(Ye(r)),a=Ze(Ye(e));return`
        const componentURL = new URL("${n}", import.meta.url)
        const component = await import(componentURL);

        const renderURL = new URL("${a}", import.meta.url)
        const render = await import(renderURL);

        render.render(
        {
            Page: component.default,
            pageProps: ${Zc(t)},
        }
        );
    `},Zc=e=>`JSON.parse(decodeURIComponent("${encodeURIComponent(JSON.stringify(e))}"))`,Ze=e=>e.startsWith("/")?e:"/"+e,Qc=(e,r,t,n)=>(r=r.replace("<!--app-lang-->",t),e&&(r=nf(r,`<script type="module">${e}<\/script>`)),n&&(r=Sr(r,Jc(n))),r),ef=(e,r,t,n,a,o)=>{let i=Qc(e,r,a,o);return i=Sr(i,rf(t,n)),i},rf=(e,r)=>Array.from(xr(e,r,new Set)).map(t=>`<link rel="stylesheet" href="/${t}"/>`).join(`
`),xr=(e,r,t)=>{const n=structuredClone(Object.entries(r).find(([s])=>s===e));if(!n)return new Set;const[a,o]=n;t.add(a);const i=new Set(o.css);return(o.imports||[]).flatMap(s=>Array.from(xr(s,r,t))).forEach(s=>i.add(s)),i},Qe="<head>",Sr=(e,r)=>{let t=e.indexOf(Qe);if(t===-1)throw new Error("_server.tsx: No head tag is defined");return t+=Qe.length,e.slice(0,t)+r+e.slice(t)},tf="</head>",nf=(e,r)=>{const t=e.indexOf(tf);if(t===-1)throw new Error("_server.tsx: No head tag is defined");return e.slice(0,t)+r+e.slice(t)},af=async(e,r,t,n,a,o)=>{if(!a)throw new Error("Manifest is undefined");const i=r.getHeadConfig?r.getHeadConfig(e):void 0,s=sf(o,a,`${r.templateName}.tsx`);if(!s)return;let c;t&&(c=Xc(n.client,a.clientPaths[r.templateName],e));const l=await n.server.render({Page:r.default,pageProps:e}),v=n.server.indexHtml.replace(n.server.replacementTag,l);return ef(c,v,s,a.bundlerManifest,Yc(i,e),i)},sf=(e,r,t)=>{const n=y.join(e.config.rootFolders.source,e.config.subfolders.templates);if(e.config.scope){const o=y.join(n,e.config.scope,t);if(Object.keys(r.bundlerManifest).some(i=>i.includes(o)))return o}const a=y.join(n,t);if(Object.keys(r.bundlerManifest).some(o=>o.includes(a)))return a;console.error(`Template ${t} not found in manifest`)},of=e=>{if(cf(e.filename,e.config),!e.getPath)throw new Error(`Template ${e.filename} is missing an exported getPath function.`);if(!e.default&&!e.render)throw new Error(`Template ${e.filename} does not have the necessary exports to produce page. A module should either have a React component as a default export or a render function.`)},cf=(e,r)=>{if(!r.name)throw new Error(`Template ${e} is missing a "name" in the config function.`);if(r.streamId&&r.stream)throw new Error(`Template ${e} must not define both a "streamId" and a "stream".`)},Rr=(e,r)=>{let t=e.split(y.sep)[e.split(y.sep).length-1];const n=t.slice(t.lastIndexOf("."));let a=t.slice(0,t.lastIndexOf("."));return r&&(t=t.split(n)[0].slice(0,t.split(n)[0].lastIndexOf("."))+n,a=a.slice(0,a.lastIndexOf("."))),{base:t,name:a}},ff=(e,r)=>!e&&(!r||!r.$id),uf=(e,r,t)=>{const n=Rr(e,t),a={...r,config:lf(n.name,r.config),path:e,filename:n.base,templateName:n.name};return of(a),a},lf=(e,r)=>{const t=Fr(r==null?void 0:r.stream);return{name:(r==null?void 0:r.name)??e,hydrate:(r==null?void 0:r.hydrate)??!0,...r,stream:t,templateType:ff(r==null?void 0:r.streamId,t)?"static":"entity"}},Fr=e=>{if(e)return e.localization.locales&&e.localization.locales.length>0?{...e,localization:{locales:e.localization.locales,primary:!1}}:{...e,localization:{primary:!0}}},vf=(e,r)=>{if(!e||typeof e!="string")throw new Error(`getPath does not return a valid string in template '${r}'`)},er=new Map,df=async(e,r,t)=>{if(!r.serverPaths[e])return;const n=r.serverPaths[e].replace(t.config.subfolders.assets,"..");let a=er.get(n);return a||(a=await te(()=>import(n),[]),er.set(n,a)),uf(n,a,!0)},gf=async(e,r)=>{const t=e.renderPaths._server.replace(r.config.subfolders.assets,"..");return{server:await hf(t),client:e.renderPaths._client}},rr=new Map,hf=async e=>{let r=rr.get(e);return r||(r=await te(()=>import(e),[]),rr.set(e,r)),r},pf=async(e,r,t,n,a)=>{var l,v;e.transformProps&&(r=await e.transformProps(r));const o=e.getPath(r);vf(o,e.templateName);const i=r.pathOverride??o,s={...r,path:o,relativePrefixToRoot:Vc(i)};return{content:await bf(e,s,t,n,a),path:o,redirects:((l=e.getRedirects)==null?void 0:l.call(e,s))??[],authScope:((v=e.getAuthScope)==null?void 0:v.call(e,r))??""}},bf=async(e,r,t,n,a)=>{const{default:o,render:i,getHeadConfig:s}=e;if(!o&&!i)throw new Error(`Cannot render html from template '${e.config.name}'. Template is missing render function or default export.`);return i?(s&&console.warn(`getHeadConfig for template ${e.config.name} will not be called since a custom render function is defined.`),i(r)):await af(r,e,e.config.hydrate,t,n,a)},_f=e=>{if(yf(e.filename,e.config),!e.getDestination)throw new Error(`Redirect ${e.filename} is missing an exported getDestination function.`);if(!e.getSources)throw new Error(`Redirect ${e.filename} is missing an exported getSources function.`)},yf=(e,r)=>{if(!r.name)throw new Error(`Redirect ${e} is missing a "name" in the config function.`);if(r.streamId&&r.stream)throw new Error(`Redirect ${e} must not define both a "streamId" and a "stream".`)},$f=(e,r,t)=>{const n=Rr(e,t),a={...r,config:mf(n.name,r.config),path:e,filename:n.base,redirectName:n.name};return _f(a),a},mf=(e,r)=>{const t=Fr(r==null?void 0:r.stream);return{name:(r==null?void 0:r.name)??e,...r,stream:t}},tr=new Map,wf=async(e,r,t)=>{if(!r.redirectPaths[e])return;const n=r.redirectPaths[e].replace(t.config.subfolders.assets,"..");let a=tr.get(n);return a||(a=await te(()=>import(n),[]),tr.set(n,a)),$f(n,a,!0)},Tf=async(e,r)=>{const t=e.getDestination(r);return{sources:e.getSources(r),destination:t}};var Pf=async(e,r)=>{const t=new ve(r.projectStructure),n=e.document.__.name,a=await df(n,r,t);if(a){const i=await gf(r,t);return await pf(a,e,i,r,t)}const o=await wf(n,r,t);if(o)return await Tf(o,e);throw new Error(`Could not find path for feature ${n}`)};export{Pf as default};
